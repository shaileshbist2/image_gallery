(this.webpackJsonpimage_gallery=this.webpackJsonpimage_gallery||[]).push([[0],{24:function(e,t,c){},38:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(15),i=c.n(s),o=(c(24),c(11)),l=c(3),u=c(12),j=c(9),b=c(5),d="SET_CURRENT_IMAGES",p="SET_SEARCH_BY",f="SET_SEARCH_TEXT",h={images:[],searchBy:"local",search:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(b.a)(Object(b.a)({},e),{},{images:t.payload});case p:return Object(b.a)(Object(b.a)({},e),{},{searchBy:t.payload});case f:return Object(b.a)(Object(b.a)({},e),{},{search:t.payload});default:return e}},x=Object(j.c)({data:m}),O=[j.a.apply(void 0,[])];var g=Object(j.e)(x,{},j.d.apply(void 0,O)),y=(c(38),["forest","mountain","sports"]),v=Object(u.b)(null,(function(e){return{setSearchText:function(t){return e({type:f,payload:t})},setSearchBy:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.setSearchBy,c=e.setSearchText;return Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-12 form-group",style:{textAlign:"center"},children:[Object(n.jsx)("div",{className:"col-md-12 form-group",style:{fontFamily:"Lobster, cursive"},children:Object(n.jsx)("h1",{children:"Elite Gallary"})}),Object(n.jsx)("div",{className:"col-md-12 form-group",children:Object(n.jsx)("div",{className:"col-md-6 offset-3 form-group",children:Object(n.jsxs)("div",{className:"input-group mb-3",style:{height:"50px"},children:[Object(n.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",className:"form-control",placeholder:"Search...",style:{height:"52px"}}),Object(n.jsx)("button",{type:"button",className:"btn btn-dark",style:{borderRadius:"0px 6px 6px 0",width:"50px"},children:Object(n.jsx)("i",{className:"fa fa-search",style:{fontSize:"20px"}})}),Object(n.jsxs)("div",{className:"input-group-append",children:[Object(n.jsx)("h4",{className:"switch-label",style:{fontSize:"14px",margin:"2px 0px 0px 15px",position:"absolute"},children:"Local"}),Object(n.jsxs)("label",{className:"switch",style:{margin:"18px 0px 0px 6px"},children:[Object(n.jsx)("input",{onClick:function(e){return t(e.target.checked?"remote":"local")},type:"checkbox"}),Object(n.jsx)("span",{className:"slider round"})]})]})]})})}),Object(n.jsx)("div",{className:"col-md-12 form-group",children:y.length>0&&y.map((function(e,t){return Object(n.jsx)(o.b,{to:"/"+e,children:Object(n.jsx)("button",{type:"button",className:"btn btn-dark btn-sm btn-cat",children:e})},t)}))})]})})})),E=function(e){return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsxs)("div",{className:"container",style:{marginTop:"60px"},children:[Object(n.jsx)(v,{}),e.children]})})},N=c(23),S=c(22),A=new(c.n(S).a)({accessKey:"q0tpmTmn2yVWdwAd9PbL7vST-a7m5M1u7I3Jk3-Dn4E",timeout:500}),T=[];var _=Object(u.b)((function(e){return{data:e.data}}),(function(e){return{setImages:function(t){return e(function(e){return{type:d,payload:e}}(t))}}}))(Object(l.g)((function(e){var t=e.match,c=e.setImages,s=e.data,i=Object(a.useReducer)((function(e,t){switch(t.type){case"ADVANCE_PAGE":return Object(b.a)(Object(b.a)({},e),{},{page:e.page+1});default:return e}}),{page:0}),o=Object(N.a)(i,2),l=o[0],u=o[1],j=Object(a.useReducer)((function(e,t){switch(t.type){case"STACK_IMAGES":return Object(b.a)(Object(b.a)({},e),{},{images:e.images.concat(t.images)});case"FETCHING_IMAGES":return Object(b.a)(Object(b.a)({},e),{},{fetching:t.fetching});default:return e}}),{images:[],fetching:!0}),d=Object(N.a)(j,2),p=d[0],f=d[1],h=Object(a.useRef)(null);return function(e,t,c){Object(a.useEffect)((function(){c({type:"FETCHING_IMAGES",fetching:!0}),A.search.photos(t,e.page,10,{orientation:"portrait",color:"green"}).then(S.toJson).then((function(e){var t=e.results;c({type:"STACK_IMAGES",images:t}),c({type:"FETCHING_IMAGES",fetching:!1})}))}),[c,t,e.page])}(l,t.path,f),function(e,t){var c=Object(a.useCallback)((function(e){var t=new IntersectionObserver((function(c){c.forEach((function(c){if(c.intersectionRatio>0){var n=c.target,a=n.dataset.src;a?n.src=a:console.error("Image source is invalid"),t.unobserve(e)}}))}));t.observe(e)}),[]),n=Object(a.useRef)(null);Object(a.useEffect)((function(){n.current=document.querySelectorAll(e),n.current&&n.current.forEach((function(e){return c(e)}))}),[c,n,e,t])}(".card-img-top",p.images),function(e,t){var c=Object(a.useCallback)((function(e){new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&t({type:"ADVANCE_PAGE"})}))})).observe(e)}),[t]);Object(a.useEffect)((function(){e.current&&c(e.current)}),[c,e])}(h,u),T=""!==s.search?p.images.filter((function(e){return new RegExp(s.search).test(e.alt_description)})):p.images,Object(a.useEffect)((function(){c(p.images)}),[p,c]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"col-md-10 offset-1",children:Object(n.jsx)("div",{id:"images",className:"row",children:T.map((function(e,t){var c=e.alt_description,a=e.urls;return Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)("img",{alt:c,"data-src":a.thumb,className:"card-img-top",style:{height:"100%",width:"100%",padding:"5px",borderRadius:"10px"},src:"https://img2.pngio.com/index-of-areaedu-wp-content-uploads-2016-02-default-png-600_600.png"})},t)}))})}),p.fetching&&Object(n.jsx)("div",{className:"text-center m-auto p-3",children:Object(n.jsx)("i",{className:"fa fa-refresh fa-spin",style:{fontSize:"30px",padding:"40px"}})}),Object(n.jsx)("div",{id:"page-bottom-boundary",style:{border:"1px solid #fff"},ref:h})]})}))),w=Object(l.g)((function(e){e.category;var t=e.match;return Object(n.jsx)("div",{className:"col-md-12 text-capitalize",children:Object(n.jsxs)("h4",{style:{textAlign:"center"},children:[t.path.replace(/[/]/g,"")," images"]})})})),C=function(){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(_,{})]})},I=function(){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(_,{})]})},F=function(e){e.category;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(_,{})]})};var R=function(){return Object(n.jsx)(u.a,{store:g,children:Object(n.jsx)(o.a,{children:Object(n.jsx)(l.d,{children:Object(n.jsxs)(E,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(l.a,{to:"/forest"})}}),Object(n.jsx)(l.b,{exact:!0,path:"/forest",component:C}),Object(n.jsx)(l.b,{exact:!0,path:"/mountain",component:I}),Object(n.jsx)(l.b,{exact:!0,path:"/sports",component:F})]})})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,55)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(R,{})}),document.getElementById("root")),G()}},[[54,1,2]]]);
//# sourceMappingURL=main.dbb235f5.chunk.js.map